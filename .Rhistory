setwd("C:/Users/祐援/SkyDrive/R")
data
load("C:/Users/祐援/SkyDrive/R/2015winterlab/2_data.RData")
data
]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]
length(data)
summary(data)
table(data)
hist(data,breaks = seq(-0.5,9.5,1))
p<-seq(0,1,0.001)
p<-seq(0,1,0.001)
p<-data.frame
p<-data.frame(p)
p<-seq(0,1,0.001)
test$p<-p
class(p)
cbind(p)
p<-data.frame(p)
View(p)
p$func<-(p$p)^7(1-p$p)^3
p$func<-(p$p)^7*(1-p$p)^3
set<-read.csv("taggraph_nodes.csv",fileEncoding = "CP932")
set<-na.omit(set)
#再生数などの情報は既にポイントで反映していると考え削除しておく。計算結果を最終的にsetに貼って出力しGephiでまた使う
set1<-set[,c(-2,-3,-10,-17,-18,-19)]
plus<-subset(set1,set1$Points>2.5*mean(set1$Points))
minus<-subset(set1,set1$Points<0.05*mean(set1$Points))
setwd("~/GitHub/niconico_analysis")
setwd("C:/Users_祐援/Documents/GitHub/niconico_analysis")
setwd("C:/Users/祐援/Documents/GitHub/niconico_analysis")
set<-read.csv("taggraph_nodes.csv",fileEncoding = "CP932")
set<-na.omit(set)
#再生数などの情報は既にポイントで反映していると考え削除しておく。計算結果を最終的にsetに貼って出力しGephiでまた使う
set1<-set[,c(-2,-3,-10,-17,-18,-19)]
plus<-subset(set1,set1$Points>2.5*mean(set1$Points))
minus<-subset(set1,set1$Points<0.05*mean(set1$Points))
plus1<-plus[c(1:47),]
plus2<-plus[c(48:94),]
minus1<-minus[c(1:46),]
minus2<-minus[c(47:92),]
learning<-data.frame(rbind(plus1,minus1))
test<-data.frame(rbind(plus2,minus2))
learning<-data.frame(rbind(learning,test[93,]))
test<-test[-93,]
# 日付型は使えないのでnumericに。あと、Hubは削除。
set1$ave_starttime<-as.numeric(set1$ave_starttime)
set1$Authority<-as.numeric(set1$Authority)
learning1<-learning[,c(-1,-5,-16)]
learning1$ave_starttime<-as.numeric(learning1$ave_starttime)
learning1$Authority<-as.numeric(learning1$Authority)
test1<-test[,c(-1,-5,-16)]
test1$ave_starttime<-as.numeric(test1$ave_starttime)
test1$Authority<-as.numeric(test1$Authority)
if(set1$Points>2.5*mean(set1$Points)){
set1$training<-1}
elseif(set1$Points<0.05*mean(set1$Points)){
set1$training<-1
}
else{
set1$training<-0
}
if(set1$Points>2.5*mean(set1$Points)){
set1$training<-1
else if(set1$Points<0.05*mean(set1$Points))
set1$training<-1
else
set1$training<-0
}
if (set1$Points > 2.5 * mean(set1$Points)) {
set1$training <- 1
} else if (set1$Points < 0.05 * mean(set1$Points)) {
set1$training <- 1
} else {
set1$training <- 0
}
mean(set1$Points)
if (set1$Points > 2.5 * 39266.87) {
set1$training <- 1
} else if (set1$Points < 0.05 * 39266.87) {
set1$training <- 1
} else {
set1$training <- 0
}
View(plus)
plus$training<-1
minus$training<-1
nottraining<-subset(set1,set1$Points>2.5*mean(set1$Points) & set1$Points<0.05*mean(set1$Points))
nottraining<-subset(set1,set1$Points<2.5*mean(set1$Points) & set1$Points>0.05*mean(set1$Points))
nottraining$training<-0
set3<-rbind(plus,minus,nottraining)
set3<-rbind(plus,minus)
set3<-rbind(plus,minus,nottraining)
View(nottraining)
set3<-rbind(plus,minus)
set3<-rbind(set3,nottraining)
sapply(nottraining,class)
sapply(set3,class)
View(set)
nottraining<-nottraining[,c(1,17)]
plusset<-plus[,c(1,17)]
minusset<-minus[,c(1,17)]
set3<-rbind(nottraining,plusset,minusset)
set4<-merge(set,set3,by="Id",all=T)
View(set4)
nottraining<-subset(set1,set1$Points<2.5*mean(set1$Points) & set1$Points>0.05*mean(set1$Points))
nottraining$training<-0
nottraining<-nottraining[,c(1,17)]
plusset<-plus[,c(1,17)]
minusset<-minus[,c(1,17)]
set3<-rbind(nottraining,plusset,minusset)
View(plus)
