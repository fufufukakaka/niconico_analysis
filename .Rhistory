setwd("~/GitHub/niconico_analysis")
seed<-read.csv("seed.csv",fileEncoding="cp932")
adjacency <- function(n){
## 出力行列の初期化
mydata <- diag(0,length(colnames(n)))
## 行，列に名前を付ける
colnames(mydata) <- colnames(n)
rownames(mydata) <- colnames(n)
## rは列番号
for(r in 1:length(colnames(n))){
## r行目に，縦方向に合計したものを代入
mydata[r,] <- colSums(
## r列目が1になっている行を対象にして
n[n[,r] == 1,]
)
}
mydata
}
adj<-adjacency(seed)
g <- graph.adjacency(adj,weighted=TRUE)
write.graph(g,"taggraph.gml","gml")
require(igraph)
g <- graph.adjacency(adj,weighted=TRUE)
write.graph(g,"taggraph.gml","gml")
set<-read.csv("taggraph(Nodes).csv",fileEncoding = "CP932")
set<-read.csv("taggraph_nodes.csv",fileEncoding = "CP932")
View(set)
set1<-set[,c(-2,-3,-10,-17,-18,-19)]
View(set1)
set1<-set[,c(-2,-10,-17,-18,-19)]
View(set1)
set1<-set[,c(-2,-3,-10,-17,-18,-19)]
View(set1)
plus<-subset(set1,Points>average(points()))
plus<-subset(set1,Points>mean(points))
plus<-subset(set1,set1$Points>mean(set1$points))
plus<-subset(set1,set1$Points>mean(set1$Points))
View(plus)
mean(set1$Points)
colMeans(set1)
class(set1$Points)
colMeans(set1$Points)
mean(set1$Points)
na.omit(set1)
set1<-na.omit(set1)
View(set1)
plus<-subset(set1,set1$Points>mean(set1$Points))
View(plus)
plus<-order(plus$Points, decreasing = TRUE )
plus<-subset(set1,set1$Points>mean(set1$Points))
plus<-subset(set1,set1$Points>1.5*mean(set1$Points))
View(plus)
plus<-subset(set1,set1$Points>2*mean(set1$Points))
plus<-subset(set1,set1$Points>2.5*mean(set1$Points))
minus<-subset(set1,set1$Points<0.75*mean(set1$Points))
minus<-subset(set1,set1$Points<0.25*mean(set1$Points))
minus<-subset(set1,set1$Points<0.15*mean(set1$Points))
minus<-subset(set1,set1$Points<0.25*mean(set1$Points))
minus<-subset(set1,set1$Points<0.025*mean(set1$Points))
minus<-subset(set1,set1$Points<0.05*mean(set1$Points))
trainingset<-data.frame(plus,minus)
View(minus)
plus$culture<-as.factor(1)
minus$culture<-as.factor(0)
trainingset<-rbind(plus,minus)
View(trainingset)
trainingset<-data.frame(trainingset)
View(trainingset)
